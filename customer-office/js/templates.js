(function(){window.JST=window.JST||{};var template=function(str){var fn=new Function("obj","var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+str.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(match,code){return"',"+code.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(match,code){return"');"+code.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');");return fn};window.JST["angle"]=template('<fieldset>\n  <legend>Угол отклонения</legend>\n  <div class="section">\n    <div class="input-group input-group-sm cloudiness-input hide">\n      <span class="input-group-addon"><i class="fa fa-cloud"></i></span>\n      <input class="form-control fld-value-slider form-control__addon form-control_angle__gte" name="angle__gte" value="<%= angle__gte %>" type="text" />\n      <input class="form-control fld-value-slider form-control__addon form-control_angle__lte" name="angle__lte" value="<%= angle__lte %>" type="text" />\n    </div>\n    <div class="wrapper-slider"><label><input class="slider" type="slider" value="<%= angle__gte %>;<%= angle__lte %>" /></label></div>\n  </div>\n</fieldset>\n');window.JST["cloud"]=template('<fieldset>\n  <legend>Облачность</legend>\n  <div class="section">\n    <div class="input-group input-group-sm cloudiness-input hide">\n      <span class="input-group-addon"><i class="fa fa-cloud"></i></span>\n      <input class="form-control fld-value-slider form-control__addon form-control__cloud_gte" name="cloud__gte" value="<%= cloud__gte %>" type="text" />\n      <input class="form-control fld-value-slider form-control__addon form-control__cloud_lte" name="cloud__lte" value="<%= cloud__lte %>" type="text" />\n    </div>\n    <div class="wrapper-slider"><label><input class="slider" type="slider" value="<%= cloud__gte %>;<%= cloud__lte %>" /></label></div>\n  </div>\n</fieldset>\n');window.JST["date"]=template('<fieldset>\n  <legend>Даты</legend>\n\n<label for="from" class="label__inline">с</label>\n<div class="input-group input-group-sm input-group__inline">\n  <span class="input-group-addon"><i class="fa fa-calendar"></i></span>\n  <input type="text" class="form-control form-control__date datepicker-from" name="fromdate" value="<%= fromdate %>"/>\n</div>\n<label for="to" class="label__inline">по</label>\n<div class="input-group input-group-sm input-group__inline">\n  <span class="input-group-addon"><i class="fa fa-calendar"></i></span>\n  <input type="text" class="form-control form-control__date datepicker-to" name="todate" value="<%= todate %>">\n</div>\n\n<div class="panel-group" id="sub-accordion">\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h4 class="panel-title">\n        <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#sub-accordion" href="#seasonally">Сезонность</a>\n      </h4>\n    </div>\n    <div id="seasonally" class="panel-collapse collapse">\n      <div class="panel-body">\n        <div class="row">\n          <div class="col-md-6">\n            <div class="checkbox"><label><input value="1" name="month" <% if (_.indexOf(month, 1) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Январь</label></div>\n            <div class="checkbox"><label><input value="2" name="month" <% if (_.indexOf(month, 2) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Февраль</label></div>\n            <div class="checkbox"><label><input value="3" name="month" <% if (_.indexOf(month, 3) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Март</label></div>\n            <div class="checkbox"><label><input value="4" name="month" <% if (_.indexOf(month, 4) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Апрель</label></div>\n            <div class="checkbox"><label><input value="5" name="month" <% if (_.indexOf(month, 5) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Май</label></div>\n            <div class="checkbox"><label><input value="6" name="month" <% if (_.indexOf(month, 6) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Июнь</label></div>\n          </div>\n          <div class="col-md-6">\n            <div class="checkbox"><label><input value="7" name="month" <% if (_.indexOf(month, 7) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Июль</label></div>\n            <div class="checkbox"><label><input value="8" name="month" <% if (_.indexOf(month, 8) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Август</label></div>\n            <div class="checkbox"><label><input value="9" name="month" <% if (_.indexOf(month, 9) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Сентябрь</label></div>\n            <div class="checkbox"><label><input value="10" name="month" <% if (_.indexOf(month, 10) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Октябрь</label></div>\n            <div class="checkbox"><label><input value="11" name="month" <% if (_.indexOf(month, 11) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Ноябрь</label></div>\n            <div class="checkbox"><label><input value="12" name="month" <% if (_.indexOf(month, 12) !== -1) { %>checked="checked"<% } %> type="checkbox"/>Декабрь</label></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</fieldset>');window.JST["form-export-shp"]=template('<form action="/ajax/getshp" method="POST" class="hidden">\n  <input class="json" type="hidden" name="json" value=\'<%= json %>\' />\n</form>');window.JST["image"]=template('<tr class="item item-<%= item.id %> <%= (item.inFavorite) ? \'favorite\':\'\' %> <% if (item.isSelect) { %> warning <% } %> " data-id="<%= item.id %>" data-key="<%= key %>">\n  <td class="action item-action">\n\n    <input\n      class="item-checkbox js-checkbox-image"\n      type="checkbox"\n      name="images"\n      value="<%= item.id %>"\n\n      <% if (item.isSelect) { %> checked="checked" <% } %>\n      />\n\n    <i class="fa fa-star-o icon-star"></i>\n\n    <label class="quicklook-state">\n      <input\n        type="checkbox"\n        class="quicklook-state-checkbox js-change-quicklook-state"\n        value="<%= item.id %>"\n        <% if (item.isSelect) { %> checked="checked" <% } %>\n        >\n      <span class="icon"><i class="fa fa-eye"></i></span>\n    </label>\n\n  </td>\n  <td class="item-cell catalog_id"><%= item.properties.cid %></td>\n  <td class="item-cell product-satellite"><%= item.properties.satname %></td>\n  <td class="item-cell"><%= item.properties.sensor %></td>\n  <td class="item-cell date"><%= moment(item.properties.acqdate).format(\'DD.MM.YYYY hh:mm\') %></td>\n  <td class="item-cell resolution"><%= item.properties.resol %>м</td>\n  <td class="item-cell angle"><%= item.properties.angles %>°</td>\n  <td class="item-cell cloud_cov"><%= item.properties.cloudcov %>%</td>\n  <td class="item-cell"><%= CATALOG.CONSTANT.SATELLITES_TYPE[item.properties.sensortype] %></td>\n  <td class="item-cell url"><% if (item.properties.url) { %><a target="_blank" href="<%= item.properties.url %>">ссылка</a><% } %></td>\n</tr>\n');window.JST["images"]=template('<% if (items.length) { %>\n<div class="fixed-table-container">\n  <div class="fixed-table-container-inner extrawrap">\n    <div class="header-background"></div>\n    <table class="table table-striped table-condensed table-hover table-bordered">\n      <thead>\n      <tr>\n        <th class="first"><div class="extra-wrap"><div class="th-inner"><input class="select-all" type="checkbox"/></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Номер по каталогу<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'catalog_id\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Спутник<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'sensor__satellite__name\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Сенсор<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'sensor\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Дата<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'date\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Разрешение<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'sensor__resolution\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Угол<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'angle\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Облачность<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'cloudiness\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Тип<% if ( is_sorted && current_sort ) { %> <%= JST[\'sort-icon\']({ attr: \'sensor__type\', current_sort: current_sort }) %><% } %></div></div></th>\n        <th><div class="extra-wrap"><div class="th-inner">Ссылка</div></div></th>\n      </tr>\n      </thead>\n      <tbody>\n      <% _.each(items, function(item, key) { %>\n        <%= JST[\'image\']({item: item, key: key}) %>\n      <% }); %>\n      </tbody>\n    </table>\n  </div>\n</div>\n<div class="search-pagination">\n</div>\n<% } else { %>\n<div class="fixed-table-container">\n  <% if (show_title) { %>\n  <div class="text-center">Тут будут отображаться спутниковые снимки.</div>\n  <% } else { %>\n  <div class="text-center">Ничего не найдено. Попробуйте изменить параметры и повторить поиск.</div>\n  <% } %>\n</div>\n<% } %>');window.JST["message-danger"]=template('<% var error = error || \'\'; %>\n\n<div class="alert alert-sm alert-danger alert-message fade">\n  <span class="close" href="#" >&times;</span>\n  <span><b>Ошибка <%= error %></b> обзорное изображение <%= data.properties.cid %> недоступно на сервере оператора, попробуйте повторить попытку позднее.</span>\n</div>\n');window.JST["message-unavailable"]=template('<% var images = (images_unavailable.length > 1) ? images_unavailable.join(\',\') : images_unavailable[0]; %>\n<% var flag = !!(images.length > 75); %>\n<div class="alert alert-sm alert-danger alert-message fade">\n  <span class="close" href="#" >&times;</span>\n  <% if (is_images_available) { %>\n  <p data-text="<%= images %>"><b>Ощибка</b>. Загрузка невозможна так как на сервере оператора недоступны квиклуки:\n    <span class="id-list" data-text="<%= images %>"><%= (flag) ? images.slice(0, 70) + \'...\' + \' <span class="more">Показать все</span>\' : images  %></span>\n  </p>\n  <span class="action download-available">Загрузить доступные квиклуки</span>\n  <% } else { %>\n  <p><b>Ощибка</b>. На сервер оператора недоступны все выделенные куиклуки</p>\n  <% } %>\n</div>\n');window.JST["message-warning"]=template('<div class="alert alert-sm alert-warning alert-message fade">\n  <span class="close" href="#" >&times;</span>\n  <span><b>Внимание</b> у спутника <%= data.properties.satname %>  нет загрубленых изображений для просмотра</span>\n  <span class="action hide-forever">Больше не показывать</span>\n</div>\n');window.JST["pagination"]=template('<div class="pagination-wrapper">\n\n  <div class="limit-wrapper">\n    <span class="limit-title">Отображать по</span>\n    <div class="btn-group dropup btn-group-limits-list">\n      <button type="button" class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown"><span\n          class="current-limit"><%= limit %></span> <span class="fa fa-caret-up"></span></button>\n      <ul class="dropdown-menu" role="menu">\n        <li class="<%= (limit == 25) ? \'active\' : \'\' %>"><a data-val="25" href="#">25</a></li>\n        <li class="<%= (limit == 50) ? \'active\' : \'\' %>"><a data-val="50" href="#">50</a></li>\n        <li class="<%= (limit == 100) ? \'active\' : \'\' %>"><a data-val="100" href="#">100</a></li>\n      </ul>\n    </div>\n  </div>\n\n  <% if (total > 1) { %>\n  <ul class="pagination pagination-sm">\n    <li class="prev <%= (1 == current) ? \'disabled\' : \'\' %>"><a href="#">&laquo;</a></li>\n    <% _.each(pages, function(page) { %>\n    <li class="<%= (page == current) ? \'active\' : \'\' %> page" data-num="<%= page %>"\n        data-offset="<%= (page - 1) * 50 %>"><a data-offset="<%= (page - 1) * 50 %>" data-num="<%= page %>"\n                                                href="#"><%= page %></a></li>\n    <% }); %>\n    <li class="next <%= (parseInt(total, 10) == parseInt(current, 10)) ? \'disabled\' : \'\' %>"><a href="#">&raquo;</a>\n    </li>\n  </ul>\n  <% } %>\n</div>\n\n');window.JST["permalink"]=template('<p class="text-center">\n  <a href="<%= url %>" target="_blank">\n    <%= url %>\n  </a>\n</p>');window.JST["satellites"]=template('<fieldset>\n    <style type="text/css">\n  <% _.each(sensors, function(sensor, key) { %>\n      .satellite-color<%= sensor.sensor_id %>:before {\n        border: 2px solid  <%= (sensor.style) ? sensor.style.map : \'deeppink\' %>;\n      }\n  <% }); %>\n    </style>\n  <legend>Спутники</legend>\n  <div class="col1 col">\n  <% var middle = Math.ceil(sensors.length/2); %>\n  <% _.each(sensors, function(sensor, key) { %>\n    <%= JST[\'sensor\']({ id: sensor.sensor_id, satellite: sensor.satellite, sensor: sensor.name, checked: checked}) %>\n    <% if (middle == key + 1) { %>\n    </div><div class="col2 col">\n    <% } %>\n  <% }); %>\n  </div>\n\n</fieldset>\n\n\n');window.JST["sensor"]=template('<div class="checkbox">\n  <label><input <% if (_.indexOf(checked, id) !== -1) { %>checked="checked"<% } %> type="checkbox" name="sensor" value="<%= id %>" class="satellite-color satellite-color<%= id %>" ><%= satellite %> <%= sensor %></label>\n</div>\n');window.JST["sort-icon"]=template('<% if (attr == current_sort || attr == current_sort.slice(1)) { %>\n  <% if (current_sort.indexOf(\'-\') < 0) { %>\n<i class="fa sort fa-sort-desc" data-sort-name="-<%= attr %>" ></i>\n  <% } else { %>\n<i class="fa sort fa-sort-asc" data-sort-name="<%= attr %>" ></i>\n  <% } %>\n<% } else { %>\n<i class="fa sort fa-sort" data-sort-name="<%= attr %>" ></i>\n<% } %>\n')}).call(this);